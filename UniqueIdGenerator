<mxfile modified="2024-06-07T18:56:00.133Z" host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/125.0.0.0 Safari/537.36" etag="TCu5PL4Ow-iUNWIkYCqS" version="24.5.1" type="github">
  <diagram id="Ht1M8jgEwFfnCIfOTk4-" name="Page-1">
    <mxGraphModel dx="1434" dy="761" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="SyhyTo8GULkEISENhTmk-1" value="&lt;ul&gt;&lt;li&gt;Is this going to work as a single server or a distributed server ?&amp;nbsp;&lt;/li&gt;&lt;li&gt;CAP theorem , Strict consistency + decent availability or Tunable consistency with high availability&amp;nbsp;&lt;/li&gt;&lt;li&gt;Low latency&amp;nbsp;&lt;/li&gt;&lt;li&gt;Key value =&amp;gt; 4KB&amp;nbsp;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;Size requirements , lets say we have i trillion keys 4 TB&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Distributed&lt;/div&gt;&lt;div&gt;- Data partition&lt;/div&gt;&lt;div&gt;-&amp;nbsp; Consistent hashing&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; S0, S1, S2&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; S0 =&amp;gt; So-1, S0-2&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;data inconsistencies&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;N , R, W = N&lt;/div&gt;&lt;div&gt;Vector closck&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- Data replication&amp;nbsp;&lt;/div&gt;&lt;div&gt;N= 2 , consistency&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;" vertex="1" parent="1">
          <mxGeometry x="20" y="40" width="250" height="290" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-3" value="uniform hashing function , a hashtable that is part memory and part disk" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="20" y="20" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-14" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="450" y="120" width="520" height="520" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-15" value="s01" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="695" y="100" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-16" value="S21" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="510" y="550" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-18" value="s02" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="960" y="356.5" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-20" value="s11" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="880" y="180" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-22" value="s12" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="880" y="550" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-23" value="S22" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="440" y="374" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-24" value="" style="image;aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image=img/lib/active_directory/key.svg;" vertex="1" parent="1">
          <mxGeometry x="770" y="120" width="27.03" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-26" value="" style="image;aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image=img/lib/active_directory/key.svg;" vertex="1" parent="1">
          <mxGeometry x="451.49" y="450" width="27.03" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-30" value="" style="image;aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image=img/lib/active_directory/laptop_client.svg;" vertex="1" parent="1">
          <mxGeometry x="40" y="364" width="45" height="50" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-33" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="SyhyTo8GULkEISENhTmk-30" target="SyhyTo8GULkEISENhTmk-23">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="420" as="sourcePoint" />
            <mxPoint x="610" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-34" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="SyhyTo8GULkEISENhTmk-23" target="SyhyTo8GULkEISENhTmk-20">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="420" as="sourcePoint" />
            <mxPoint x="610" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-35" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="SyhyTo8GULkEISENhTmk-23" target="SyhyTo8GULkEISENhTmk-22">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="476" y="388" as="sourcePoint" />
            <mxPoint x="894" y="216" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-38" value="ACK" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="635" y="480" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-39" value="put(key, value)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="620" y="250" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-40" value="put(key, value)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="635" y="420" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-42" value="Vector clock" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1005" y="38" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-44" value="S1, S2 S3&amp;nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;S1&amp;nbsp;&lt;/div&gt;&lt;div&gt;D1[(s1, 1)]&lt;/div&gt;&lt;div&gt;D2[(s1, 2)]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;S2&amp;nbsp;&lt;/div&gt;&lt;div&gt;D3[(s2, 1), (s1,2)]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;S3&lt;/div&gt;&lt;div&gt;D4[(s3,1), (s1,2)]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;S1&amp;nbsp;&lt;/div&gt;&lt;div&gt;D3[(s2, 1), (s1,2)]&lt;br&gt;&lt;/div&gt;&lt;div&gt;D4[(s3, 1), (s1,2)]&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;D5[(s1, 3), (s2,1), (s3,1), (s1,2)]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Map of hearbeats from other node&lt;/div&gt;&lt;div&gt;node id heartbeat timer&lt;/div&gt;&lt;div&gt;s1 - s2&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Merkle tree&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;spacingTop=-5;whiteSpace=wrap;html=1;align=left;fontSize=12;fontFamily=Helvetica;fillColor=none;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="1000" y="70" width="250" height="470" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-46" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="660" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-49" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="660" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-50" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="660" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-51" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="610" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-52" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="550" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-53" value="hash(ke)" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="550" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-54" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="610" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-56" value="" style="endArrow=classic;html=1;rounded=0;exitX=-0.002;exitY=0.548;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="SyhyTo8GULkEISENhTmk-14" target="SyhyTo8GULkEISENhTmk-67">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="420" as="sourcePoint" />
            <mxPoint x="210" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-57" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="550" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-58" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="610" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-59" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="550" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-61" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="610" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-62" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="660" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-67" value="Root" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="425" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-69" value="bk" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="470" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-70" value="bk" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="190" y="470" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-71" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="SyhyTo8GULkEISENhTmk-69" target="SyhyTo8GULkEISENhTmk-53">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="420" as="sourcePoint" />
            <mxPoint x="610" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SyhyTo8GULkEISENhTmk-72" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" target="SyhyTo8GULkEISENhTmk-52">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="120" y="480" as="sourcePoint" />
            <mxPoint x="95" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
